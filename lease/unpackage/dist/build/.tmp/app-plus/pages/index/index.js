(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{1780:function(t,e,n){"use strict";n("88c4");var o=a(n("b0ce")),i=a(n("68c2"));function a(t){return t&&t.__esModule?t:{default:t}}Page((0,o.default)(i.default))},"2f98":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;getApp();var n={data:function(){return{inHeight:"",inWidth:"",jing:0,wei:0,covers:[{latitude:0,longitude:0,id:0,iconPath:"../../static/image/path.png"}],wdInfo:[]}},created:function(){var e=this;e.inHeight=t.getStorageSync("infoHeight"),e.inWidth=t.getStorageSync("infoWidth")},onLoad:function(){t.showLoading({title:"数据加载中..."});var e=this;t.getLocation({type:"gcj02",success:function(t){e.jing=t.longitude,e.wei=t.latitude,e.covers[0].latitude=t.latitude,e.covers[0].longitude=t.longitude}}),t.request({url:e.http+"index/getAreaList",header:e.header,method:"POST",success:function(n){200!=n.data.code?t.showToast({title:n.data.data.mes,icon:"none"}):(e.id=n.data.data[0].id,t.request({url:e.http+"index/getNetList",header:e.header,method:"POST",data:{area_id:n.data.data[0].id},success:function(n){if(t.hideLoading(),200==n.data.code){e.wdInfo=n.data.data;var o=!0,i=!1,a=void 0;try{for(var c,r=n.data.data[Symbol.iterator]();!(o=(c=r.next()).done);o=!0){var u=c.value,d={};d.longitude=u.jing,d.latitude=u.wei,d.iconPath="../../static/image/wd.png",d.id=u.id,e.covers.push(d)}}catch(s){i=!0,a=s}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}}else t.showToast({title:"获取网点信息失败，请刷新后重试!",icon:"none"})},fail:function(){t.showToast({title:"请求网点信息失败，请刷新后重试!",icon:"none"})}}))},fail:function(){t.hideLoading(),t.showToast({title:"网络延迟，请刷新后重试!",icon:"none"})}})},onShow:function(){var e=this;t.request({url:e.http+"index/getOverDc",method:"POST",header:e.header,data:{user_id:t.getStorageSync("token")},success:function(t){},fail:function(){}}),t.request({url:e.http+"index/getOverTime",method:"POST",header:e.header,data:{user_id:t.getStorageSync("token")},success:function(t){},fail:function(){}})},onNavigationBarButtonTap:function(e){1==e.index?t.navigateTo({url:"../userPages/notice/notice"}):0==e.index&&(""==t.getStorageSync("token")||void 0==t.getStorageSync("token")?t.showModal({title:"温馨提示！",content:"请先前往登录!",confirmText:"登录",success:function(e){e.confirm&&t.navigateTo({url:"../loginPages/login/login"})}}):t.navigateTo({url:"../user/user"}))},methods:{login:function(){var e=this;""==t.getStorageSync("token")||void 0==t.getStorageSync("token")?t.showModal({title:"温馨提示！",content:"请先前往登录!",confirmText:"登录",success:function(e){e.confirm&&t.navigateTo({url:"../loginPages/login/login"})}}):t.request({url:e.http+"order/ifUnOrder",method:"POST",header:e.header,data:{user_id:t.getStorageSync("token")},success:function(n){console.log(n),201==n.data.code?t.showModal({title:"温馨提示",content:"你有未交租金的订单，是否跳转?",confirmText:"跳转",success:function(e){e.confirm&&t.navigateTo({url:"../userPages/yuyueDate/yuyueDate"})}}):202==n.data.code?t.showModal({title:"温馨提示",content:"你有未安装的电池，是否跳转?",confirmText:"跳转",success:function(e){e.confirm&&t.navigateTo({url:"../userPages/yuyue/yuyue"})}}):t.navigateTo({url:"../userPages/wdList/wdList?id="+e.id})},fail:function(){t.showToast({title:"无法查询是否有订单正在进行，请刷新后重试!",icon:"none"})}})},detail:function(e){var n=this;""==t.getStorageSync("token")||void 0==t.getStorageSync("token")?t.showModal({title:"温馨提示！",content:"请先前往登录!",confirmText:"登录",success:function(e){e.confirm&&t.navigateTo({url:"../loginPages/login/login"})}}):t.request({url:n.http+"order/ifUnOrder",method:"POST",header:n.header,data:{user_id:t.getStorageSync("token")},success:function(n){console.log(n),201==n.data.code?t.showModal({title:"温馨提示",content:"你有未交租金的订单，是否跳转?",confirmText:"跳转",success:function(e){e.confirm&&t.navigateTo({url:"../userPages/yuyueDate/yuyueDate"})}}):202==n.data.code?t.showModal({title:"温馨提示",content:"你有未安装的电池，是否跳转?",confirmText:"跳转",success:function(e){e.confirm&&t.navigateTo({url:"../userPages/yuyue/yuyue"})}}):t.navigateTo({url:"../userPages/wdDetail/wdDetail?id="+e.mp.markerId})},fail:function(){t.showToast({title:"无法查询是否有订单正在进行，请刷新后重试!",icon:"none"})}})}}};e.default=n}).call(this,n("6e42")["default"])},"5ae1":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"content"},[n("map",{attrs:{longitude:t.jing,latitude:t.wei,markers:t.covers,eventid:"6bbcedc7-1"},on:{markertap:function(e){t.detail(e)}}},[n("cover-view",{staticClass:"btn",attrs:{eventid:"6bbcedc7-0",mpcomid:"6bbcedc7-0"},on:{click:function(e){t.login()}}},[t._v("我要租赁")])],1)],1)},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},"68c2":function(t,e,n){"use strict";n.r(e);var o=n("5ae1"),i=n("cb42");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("d649");var c=n("2877"),r=Object(c["a"])(i["default"],o["a"],o["b"],!1,null,"699b02fe",null);e["default"]=r.exports},"9d75":function(t,e,n){},cb42:function(t,e,n){"use strict";n.r(e);var o=n("2f98"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},d649:function(t,e,n){"use strict";var o=n("9d75"),i=n.n(o);i.a}},[["1780","common/runtime","common/vendor"]]]);