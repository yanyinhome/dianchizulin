(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/userPages/riseShop/riseShop"],{"06dc":function(t,e,a){"use strict";a.r(e);var n=a("8b6f"),i=a("a328");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("e873");var o=a("2877"),l=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,"017fc4e0",null);e["default"]=l.exports},"4a85":function(t,e,a){"use strict";a("88c4");var n=s(a("b0ce")),i=s(a("06dc"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(i.default))},"8b6f":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content"},[a("view",{staticClass:"card"},[a("text",[t._v("网点名称:")]),a("input",{attrs:{type:"text",value:"",placeholder:"请输入网点名称","placeholder-style":"color:#999;",eventid:"706476ab-0"},on:{input:function(e){t.getInfo(e,"name")}}})]),a("view",{staticClass:"card"},[a("text",[t._v("网点地址:")]),a("input",{attrs:{type:"text",value:"",placeholder:"请输入网点地址","placeholder-style":"color:#999;",eventid:"706476ab-1"},on:{input:function(e){t.getInfo(e,"address")}}})]),a("view",{staticClass:"card"},[a("text",[t._v("联系人:")]),a("input",{attrs:{type:"text",value:"",placeholder:"请输入联系人","placeholder-style":"color:#999;",eventid:"706476ab-2"},on:{input:function(e){t.getInfo(e,"link_name")}}})]),a("view",{staticClass:"card"},[a("text",[t._v("联系方式:")]),a("input",{attrs:{type:"text",value:"",placeholder:"请输入联系方式","placeholder-style":"color:#999;",eventid:"706476ab-3"},on:{input:function(e){t.getInfo(e,"link_tel")}}})]),a("view",{staticClass:"title"},[t._v("门头照片上传")]),a("image",{attrs:{src:""==t.src.length?"../../../static/image/upload.png":t.src,mode:"",eventid:"706476ab-4"},on:{click:function(e){t.uploadImg()}}}),a("view",{staticClass:"btn",attrs:{eventid:"706476ab-5"},on:{click:function(e){t.submit()}}},[t._v("保存")])])},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},a328:function(t,e,a){"use strict";a.r(e);var n=a("d96a"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},d96a:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{name:"",map_address:"",link_name:"",link_tel:"",src:"",id:""}},onLoad:function(){t.request({url:this.http+"user/ifNet",method:"POST",header:this.header,data:{user_id:t.getStorageSync("token")},success:function(e){console.log(e),200==e.data.code||t.showModal({title:"温馨提示",content:e.data.mes,showCancel:!1,success:function(){t.navigateBack({delta:1})}})}})},methods:{getInfo:function(t,e){var a=this;"name"==e?a.name=t.detail.value:"address"==e?a.map_address=t.detail.value:"link_name"==e?a.link_name=t.detail.value:"link_tel"==e&&(a.link_tel=t.detail.value)},submit:function(){""==this.name||""==this.link_name||""==this.link_tel||""==this.map_address||""==this.id?t.showToast({title:"请完善网点信息!",icon:"none"}):t.request({url:this.http+"user/levelUp",method:"POST",header:this.header,data:{user_id:t.getStorageSync("token"),name:this.name,map_address:this.map_address,link_name:this.link_name,link_tel:this.link_tel,head_photo:this.id},success:function(e){e.data.code,t.showToast({title:e.data.mes,icon:"none"})}})},uploadImg:function(){var e=this;t.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(a){t.showLoading({title:"上传中..."}),plus.zip.compressImage({src:a.tempFilePaths[0],dst:"_doc/a.jpg",overwrite:!0,format:"jpg",quality:100},function(a){var n=new plus.io.FileReader;n.onloadend=function(a){var n=a.target.result;t.request({url:e.http+"index/imgupload",header:e.header,method:"POST",data:{file:n},success:function(a){t.hideLoading(),200==a.data.code?(e.src=a.data.path,e.id=a.data.id):t.showToast({title:a.data.info,icon:"none"})},fail:function(){t.showToast({title:"上传时网络延迟，请刷新后重试!",icon:"none"})}})},n.readAsDataURL(a.target)},function(t){plus.nativeUI.alert("未知错误！",function(){})})},fail:function(){t.showToast({title:"打开相册失败，请重试！",icon:"none"})}})}}};e.default=a}).call(this,a("6e42")["default"])},e873:function(t,e,a){"use strict";var n=a("f9ed"),i=a.n(n);i.a},f9ed:function(t,e,a){}},[["4a85","common/runtime","common/vendor"]]]);